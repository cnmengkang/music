{"remainingRequest":"E:\\study\\home_music\\music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\study\\home_music\\music\\src\\components\\footer\\footer.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\study\\home_music\\music\\src\\components\\footer\\footer.vue","mtime":1672934186989},{"path":"E:\\study\\home_music\\music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1672410504051},{"path":"E:\\study\\home_music\\music\\node_modules\\vue-loader\\lib\\index.js","mtime":1672410506311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpmdW5jdGlvbiByZWFsRm9ybWF0U2Vjb25kKHNlY29uZCkgew0KICAgIHZhciBzZWNvbmRUeXBlID0gdHlwZW9mIHNlY29uZA0KICAgIGlmIChzZWNvbmRUeXBlID09PSAnbnVtYmVyJyB8fCBzZWNvbmRUeXBlID09PSAnc3RyaW5nJykgew0KICAgICAgICBzZWNvbmQgPSBwYXJzZUludChzZWNvbmQpDQogICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kIC8gMzYwMCkNCiAgICAgICAgc2Vjb25kID0gc2Vjb25kIC0gaG91cnMgKiAzNjAwDQogICAgICAgIHZhciBtaW11dGUgPSBNYXRoLmZsb29yKHNlY29uZCAvIDYwKQ0KICAgICAgICBzZWNvbmQgPSBzZWNvbmQgLSBtaW11dGUgKiA2MA0KICAgICAgICByZXR1cm4gaG91cnMgKyAnOicgKyAoJzAnICsgbWltdXRlKS5zbGljZSgtMikgKyAnOicgKyAoJzAnICsgc2Vjb25kKS5zbGljZSgtMikNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJzA6MDA6MDAnDQogICAgfQ0KfQ0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IGx5cmljcyBmcm9tICcuL2x5cmljcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnZm9vdGVycycsDQogICAgY29tcG9uZW50czogeyBseXJpY3MgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgaXNQbGF5OiBmYWxzZSwNCiAgICAgICAgICAgIHRpbWVyOiBudWxsLC8v5a6a5pe25ZmoDQogICAgICAgICAgICBjdXJyZW50VGltZTogJycsIC8v5b2T5YmN5pe26ZW/DQogICAgICAgICAgICB2b2x1bWU6IDUwLC8v6buY6K6k6Z+z6YePDQogICAgICAgICAgICB2YWx1ZTogJycsDQogICAgICAgICAgICBtYXhUaW1lOiAwDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmF1ZGlvLnZvbHVtZSkNCiAgICB9LA0KICAgIC8vIOiuoeeul+WxnuaApw0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIC4uLm1hcFN0YXRlKFsnbXVzaWNJbmZvJ10pLA0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyANCiAgICAgICAgLy8g5pqC5a6aL+aSreaUvg0KICAgICAgICBwYXVzZSgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYXVkaW8ucGF1c2UoKTsNCiAgICAgICAgICAgIHRoaXMuaXNQbGF5ID0gdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlvIDlp4sNCiAgICAgICAgcGxheSgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYXVkaW8ucGxheSgpOw0KICAgICAgICAgICAgdGhpcy5pc1BsYXkgPSBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlvZPliY3mkq3mlL7ml7bpl7QNCiAgICAgICAgZ2V0Q3VycmVudFRpbWVyKGUpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgICAgIH0sDQogICAgICAgIC8vIOavj+enkumSn+abtOaWsOaXtumXtA0KICAgICAgICB1cGRhdGVDdXJyZW50VGltZShyZXMpIHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBwYXJzZUludChyZXMudGFyZ2V0LmN1cnJlbnRUaW1lKQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+W9k+WJjeaXtumXtCcsIHRpbWUpDQogICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGltZTsNCiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmb3JtYXQodGltZSk7DQogICAgICAgIH0sDQogICAgICAgIC8vIA0KICAgICAgICBmb3JtYXRQcm9jZXNzVG9vbFRpcChpbmRleCA9IDApIHsNCiAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQodGhpcy5tYXhUaW1lIC8gMTAwICogaW5kZXgpOw0KICAgICAgICAgICAgcmV0dXJuIHJlYWxGb3JtYXRTZWNvbmQoaW5kZXgpDQogICAgICAgIH0sDQogICAgICAgIC8vIOatjOivjemakOiXj+S4juaYvuekug0KICAgICAgICBzZXRMeXJpY3MoKSB7DQogICAgICAgICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93DQogICAgICAgIH0sDQogICAgICAgIC8vIOaOp+WItumfs+mHj+Wkp+Wwjw0KICAgICAgICBzZXRTb3VuZCgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYXVkaW8udm9sdW1lID0gMDsNCiAgICAgICAgICAgIHRoaXMudm9sdW1lID0gMDsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6Z+z6YeP5Yi75bqmDQogICAgICAgIGZvcm1hdFRvb2x0aXAoaW5kZXggPSAwKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmF1ZGlvLnZvbHVtZSA9IGluZGV4IC8gMTAwOw0KICAgICAgICAgICAgdGhpcy52b2x1bWUgPSBpbmRleA0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VWb2x1bWUoaW5kZXgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4KQ0KICAgICAgICAgICAgdGhpcy4kcmVmcy5hdWRpby52b2x1bWUgPSBpbmRleCAvIDEwMA0KICAgICAgICAgICAgdGhpcy52b2x1bWUgPSBpbmRleA0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["footer.vue"],"names":[],"mappings":";AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"footer.vue","sourceRoot":"src/components/footer","sourcesContent":["<template>\r\n    <div id=\"footer\">\r\n        <el-row :gutter=\"20\" type=\"flex\" align=\"middle\" justify=\"center\">\r\n            <el-col :span=\"6\" @click=\"drawer = true\" v-if=\"!musicInfo.musicUrl.length == 0\">\r\n                <el-row :gutter=\"10\" type=\"flex\" align=\"middle\">\r\n                    <el-col :span=\"6\">\r\n                        <el-avatar shape=\"square\" :size=\"50\" :src=\"musicInfo.singerAvatar\"></el-avatar>\r\n                    </el-col>\r\n                    <el-col :span=\"18\">\r\n                        <p>{{ musicInfo.singerName }}</p>\r\n                        <template v-if=\"musicInfo.singerAuthor\">\r\n                            <span class=\"font-12\" v-for=\"item in musicInfo.singerAuthor\" :key=\"item.id\">{{\r\n        item.name\r\n}}</span>\r\n                        </template>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-row :gutter=\"10\" type=\"flex\" justify=\"center\" align=\"middle\">\r\n                    <el-col :span=\"2\">\r\n                        <span class=\"for \">for</span>\r\n                    </el-col>\r\n                    <el-col :span=\"2\">\r\n                        <el-button title=\"上一首\" size=\"small\" circle class=\"prev\" icon=\"el-icon-caret-left\"></el-button>\r\n                    </el-col>\r\n                    <el-col :span=\"2\">\r\n                        <el-button title=\"播放\" plain type=\"info\" circle icon=\"icon iconFont icon-Play\" v-if=\"isPlay\"\r\n                            @click=\"play\"></el-button>\r\n                        <el-button title=\"暂停\" plain circle icon=\"icon iconFont icon-bofang\" v-else\r\n                            @click=\"pause\"></el-button>\r\n                    </el-col>\r\n                    <el-col :span=\"2\">\r\n                        <el-button title=\"下一首\" size=\"small\" circle class=\"next\" icon=\"el-icon-caret-right\"></el-button>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                        <div @click=\"setLyrics\" class=\"lyrics-icon\" title=\"打开歌词\">歌词开</div>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" justify=\"center\">\r\n                    <el-col :span=\"24\">\r\n                        <el-row :gutter=\"10\" type=\"flex\" justify=\"center\">\r\n                            <el-col :span=\"2\">\r\n                                <span class=\"start font-12\">{{ formatCurrentTime(currentTime) }}</span>\r\n                            </el-col>\r\n                            <el-col :span=\"20\">\r\n                                <el-slider v-model=\"value\" :show-tooltip=\"false\" :format-tooltip=\"formatProcessToolTip\"\r\n                                    @change=\"getCurrentTimer\" />\r\n                            </el-col>\r\n                            <el-col :span=\"2\">\r\n                                <span class=\"end font-12\">{{ parseTime(musicInfo.musicTime, \"{i}:{s}\") }}</span>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-col>\r\n            <el-col :span=\"6\" class=\"audio_sound\" v-if=\"musicInfo.musicUrl.length != 0\">\r\n                <el-row :gutter=\"10\">\r\n                    <el-col :span=\"4\">\r\n                        <div class=\"level\">音质</div>\r\n                    </el-col>\r\n                    <el-col :span=\"2\">\r\n                        <div class=\"sound\">\r\n                            <el-popover placement=\"top-start\" trigger=\"hover\" class=\"popover\">\r\n                                <el-slider :min=\"0\" :max=\"100\" tooltip-class=\"slideSound\" :show-tooltip=\"false\"\r\n                                    :format-tooltip=\"formatTooltip\" @change=\"changeVolume\" v-model=\"volume\" vertical\r\n                                    height=\"80px\">\r\n                                </el-slider>\r\n                                <span title=\"静音\" slot=\"reference\" class=\"el-icon-caret-right\" @click=\"setSound\"></span>\r\n                            </el-popover>\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <div class=\"level\" title=\"音效\">音效</div>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <div class=\"level\">\r\n                            list\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-col>\r\n        </el-row>\r\n        <lyrics></lyrics>\r\n        <audio duration @timeupdate=\"updateCurrentTime\" autoplay ref=\"audio\" :src=\"musicInfo.musicUrl\"\r\n            :type=\"musicInfo.musicType\" />\r\n    </div>\r\n</template>\r\n<script>\r\nfunction realFormatSecond(second) {\r\n    var secondType = typeof second\r\n    if (secondType === 'number' || secondType === 'string') {\r\n        second = parseInt(second)\r\n        var hours = Math.floor(second / 3600)\r\n        second = second - hours * 3600\r\n        var mimute = Math.floor(second / 60)\r\n        second = second - mimute * 60\r\n        return hours + ':' + ('0' + mimute).slice(-2) + ':' + ('0' + second).slice(-2)\r\n    } else {\r\n        return '0:00:00'\r\n    }\r\n}\r\nimport { mapState } from 'vuex'\r\nimport lyrics from './lyrics'\r\nexport default {\r\n    name: 'footers',\r\n    components: { lyrics },\r\n    data() {\r\n        return {\r\n            isPlay: false,\r\n            timer: null,//定时器\r\n            currentTime: '', //当前时长\r\n            volume: 50,//默认音量\r\n            value: '',\r\n            maxTime: 0\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n        console.log(this.$refs.audio.volume)\r\n    },\r\n    // 计算属性\r\n    computed: {\r\n        ...mapState(['musicInfo']),\r\n    },\r\n    methods: {\r\n        // \r\n        // 暂定/播放\r\n        pause() {\r\n            this.$refs.audio.pause();\r\n            this.isPlay = true\r\n        },\r\n        // 开始\r\n        play() {\r\n            this.$refs.audio.play();\r\n            this.isPlay = false\r\n        },\r\n        // 当前播放时间\r\n        getCurrentTimer(e) {\r\n            console.log(e)\r\n        },\r\n        // 每秒钟更新时间\r\n        updateCurrentTime(res) {\r\n            const time = parseInt(res.target.currentTime)\r\n            console.log('当前时间', time)\r\n            this.currentTime = time;\r\n            this.value = format(time);\r\n        },\r\n        // \r\n        formatProcessToolTip(index = 0) {\r\n            index = parseInt(this.maxTime / 100 * index);\r\n            return realFormatSecond(index)\r\n        },\r\n        // 歌词隐藏与显示\r\n        setLyrics() {\r\n            this.show = !this.show\r\n        },\r\n        // 控制音量大小\r\n        setSound() {\r\n            this.$refs.audio.volume = 0;\r\n            this.volume = 0;\r\n        },\r\n        // 音量刻度\r\n        formatTooltip(index = 0) {\r\n            this.$refs.audio.volume = index / 100;\r\n            this.volume = index\r\n        },\r\n        changeVolume(index) {\r\n            console.log(index)\r\n            this.$refs.audio.volume = index / 100\r\n            this.volume = index\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scope lang=\"less\">\r\n.el-slider {\r\n    .el-slider__runway {\r\n        margin: 5px 0px;\r\n    }\r\n\r\n    .el-slider__button {\r\n        width: 10px;\r\n        height: 10px;\r\n        border: none;\r\n        color: #f00;\r\n        background-color: #f00;\r\n    }\r\n\r\n    .el-slider__bar {\r\n        background-color: red;\r\n    }\r\n}\r\n</style>"]}]}